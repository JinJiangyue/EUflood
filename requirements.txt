# ============================================
# 项目统一 Python 依赖包
# ============================================
# 安装方式:
#   使用嵌入式Python（推荐）:
#     apps/api/python-embed/Scripts/pip.exe install -r requirements.txt
#   使用系统Python:
#     pip install -r requirements.txt
#
# 此文件包含两个模块的依赖：
#   1. 数据处理模块 (apps/api/src/modules/python/scripts/)
#   2. Search 模块 (search/)
# ============================================

# ============================================
# 第一部分：数据处理模块依赖
# ============================================
# 来源: apps/api/src/modules/python/scripts/requirements.txt
# 用途: 数据处理、Excel处理、地理空间分析、数据可视化

# ---------------------- 核心数据处理 ----------------------
pandas>=2.0.0
numpy>=1.24.0

# ---------------------- Excel文件处理 ----------------------
openpyxl>=3.1.0  # Excel文件处理（.xlsx格式）
xlrd>=2.0.0      # Excel文件处理（.xls格式）

# ---------------------- 日期时间处理 ----------------------
python-dateutil>=2.8.0
pytz>=2023.3     # 时区支持
tzdata>=2023.3   # 时区数据

# ---------------------- 数据可视化 ----------------------
matplotlib>=3.7.0
pillow>=10.0.0   # 图像处理（matplotlib保存图片需要）
kiwisolver>=1.4.0 # 布局引擎（matplotlib依赖）
# seaborn>=0.12.0  # 可选：高级数据可视化

# ---------------------- 地理空间分析 ----------------------
# 坐标系统转换
pyproj>=3.6.0

# 地理空间数据处理
geopandas>=0.13.0
shapely>=2.0.0

# GIS数据读取（geopandas依赖）
fiona>=1.9.0     # 读取GeoJSON、Shapefile等格式
rtree>=1.0.0     # 空间索引（geopandas.sjoin需要）

# 地理编码
geopy>=2.3.0

# ---------------------- 可选：HTTP请求（如果需要从API获取数据） ----------------------
# requests>=2.31.0  # 已在 Search 模块中启用
# urllib3>=2.0.0

# ---------------------- 可选：科学计算 ----------------------
# scipy>=1.10.0

# ---------------------- 可选：机器学习 ----------------------
# scikit-learn>=1.3.0

# ============================================
# 第二部分：Search 模块依赖
# ============================================
# 来源: search/requirements.txt
# 用途: 搜索流程、API调用、报告生成

# ---------------------- 配置管理 ----------------------
pydantic>=2.0.0
pydantic-settings>=2.0.0

# ---------------------- HTTP 请求 ----------------------
requests>=2.31.0  # 用于 API 调用（Tavily, The News API, YouTube 等）

# ---------------------- Tavily 官方 SDK（可选，推荐） ----------------------
tavily-python>=0.3.0  # Tavily 官方 Python SDK（推荐使用，更稳定）

# ---------------------- 模板渲染 ----------------------
# jinja2>=3.1.0  # 已废弃：现在使用 LLM 直接生成报告，不再使用 Jinja2 模板

# ---------------------- 日期时间处理 ----------------------
# python-dateutil>=2.8.0  # 已在数据处理模块中定义，无需重复

# ============================================
# 标准库（无需安装）
# ============================================
# json - 标准库
# sys - 标准库
# os - 标准库
# pathlib - 标准库（Python 3.4+）
# sqlite3 - 标准库
# logging - 标准库
# datetime - 标准库

# ============================================
# 依赖说明
# ============================================
# 1. python-dateutil 在两个模块中都需要，但只需安装一次
# 2. requests 在数据处理模块中是可选的，但在 Search 模块中是必需的，已启用
# 3. 所有依赖都已合并，去除了重复项
# 4. 如果只需要某个模块的依赖，可以查看对应的子目录 requirements.txt

